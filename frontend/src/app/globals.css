@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Local font imports - fallback */
  @font-face {
    font-family: 'IBM Plex Mono';
    src: url('/fonts/IBMPlexMono-Regular.woff2') format('woff2');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'IBM Plex Mono';
    src: url('/fonts/IBMPlexMono-Medium.woff2') format('woff2');
    font-weight: 500;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'IBM Plex Mono';
    src: url('/fonts/IBMPlexMono-SemiBold.woff2') format('woff2');
    font-weight: 600;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'IBM Plex Mono';
    src: url('/fonts/IBMPlexMono-Bold.woff2') format('woff2');
    font-weight: 700;
    font-style: normal;
    font-display: swap;
  }

  /* CSS Variables - Light Theme Palette */
  :root {
    /* Accent - Dark */
    --accent: #111827;

    /* Backgrounds - Light */
    --bg-dark: #ffffff;
    --bg-card: #ffffff;
    --bg-surface: #f9fafb;

    /* Neutrals */
    --border: #e5e7eb;
    --text-primary: #111827;
    --text-secondary: #6b7280;
    --text-muted: #9ca3af;
  }

  /* Base HTML styles */
  html {
    @apply antialiased;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-white text-gray-900 min-h-screen font-sans;
    background: var(--bg-dark);
  }

  /* Selection color */
  ::selection {
    @apply bg-gray-900/10 text-gray-900;
  }

  /* Scrollbar styling - Light theme */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  ::-webkit-scrollbar-track {
    background: #f3f4f6;
  }

  ::-webkit-scrollbar-thumb {
    background: #d1d5db;
    @apply rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }
}

@layer components {
  /* Dot grid background pattern - apply with opacity-[0.03] in component */
  .dot-grid-bg {
    background-image: radial-gradient(#000 1px, transparent 1px);
    background-size: 40px 40px;
  }

  /* Card styles */
  .card-light {
    background: var(--bg-card);
    border: 1px solid var(--border);
    @apply rounded-xl shadow-sm;
  }

  /* Cursor blink effect (kept for loading indicators) */
  .cursor-blink::after {
    content: '_';
    @apply animate-blink text-gray-900 ml-0.5;
  }

  /* Pixel art rendering (crisp edges) */
  .pixel-render {
    image-rendering: pixelated;
    image-rendering: crisp-edges;
  }

  /* Progress bar segment */
  .progress-segment {
    @apply h-full transition-all duration-150;
    background: var(--accent);
  }

  .progress-segment-empty {
    background: var(--bg-surface);
  }
}

@layer utilities {
  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Transition presets */
  .transition-smooth {
    @apply transition-all duration-200 ease-in-out;
  }

  /* iOS safe area padding - enhanced with minimum values */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  .pt-safe {
    padding-top: env(safe-area-inset-top, 0px);
  }

  /* Enhanced safe area with minimum padding for modal bottoms */
  @supports (padding: max(0px)) {
    .pb-safe {
      padding-bottom: max(env(safe-area-inset-bottom, 0px), 8px);
    }
  }
}

/* Wallet adapter UI overrides - Light theme */
.wallet-adapter-button {
  @apply bg-black hover:bg-gray-800 text-white rounded-lg shadow-md !important;
}

.wallet-adapter-modal-wrapper {
  background: var(--bg-card) !important;
  border: 1px solid var(--border) !important;
  @apply rounded-xl !important;
}

.wallet-adapter-modal-title {
  @apply text-gray-900 !important;
}
